{"version":3,"sources":["../../src/components/LayerStackMountPoint.js"],"names":["LayerStackMountPoint","props","context","unsubscribe","layerStore","subscribeToMountPoint","id","setState","mountPointId","elementType","wrapperClass","wrapperActiveClass","layerItemClass","layerItemActiveClass","activeLayersForMountPointCount","getActiveLayersForMountPoint","length","wrapperClassName","className","getLayersForMountPoint","map","key","getLayer","isActive","LayerMountPoint","Component","contextTypes","PropTypes","object","defaultProps"],"mappings":"gnBAAA,8B;AACA,uC;AACA,oD;AACA,6C;;AAEqBA,oB;;;;AAInB,gCAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AACpBD,SADoB,EACbC,OADa;AAE1B,UAAKC,WAAL,GAAmBD,QAAQE,UAAR,CAAmBC,qBAAnB,CAAyCJ,MAAMK,EAA/C,EAAmD,YAAM;AAC1E,YAAKC,QAAL,CAAc,EAAd;AACD,KAFkB,CAAnB;AAGA,UAAKH,UAAL,GAAkBF,QAAQE,UAA1B,CAL0B;AAM3B,G;;AAEsB;AACrB,WAAKD,WAAL;AACA,WAAKA,WAAL,GAAmB,IAAnB;AACA,WAAKC,UAAL,GAAkB,IAAlB;AACD,K;;AAEQ;AAC2G,WAAKH,KADhH,CACKO,YADL,UACCF,EADD,CACmBG,WADnB,UACmBA,WADnB,CACgCC,YADhC,UACgCA,YADhC,CAC8CC,kBAD9C,UAC8CA,kBAD9C,CACkEC,cADlE,UACkEA,cADlE,CACkFC,oBADlF,UACkFA,oBADlF;AAEP,UAAMC,iCAAiC,KAAKV,UAAL,CAAgBW,4BAAhB,CAA6CP,YAA7C,EAA2DQ,MAAlG;AACA,UAAMC,mBAAmBP,eAAeA,gBAAgBI,iCAAiC,MAAMH,kBAAvC,GAA4D,EAA5E,CAAf,GAAiG,EAA1H;AACA,aAAO,0BAAcF,WAAd,EAA2B,EAAES,WAAWD,gBAAb,EAA3B,EAA4D,KAAKb,UAAL,CAAgBe,sBAAhB,CAAuCX,YAAvC;AAChEY,SADgE,CAC5D,UAACd,EAAD,UAAQ,0BAAcG,WAAd,EAA2B,EAAEY,KAAKf,EAAP,EAAWY,WAAYN,kBAAkBC,wBAAwB,OAAKT,UAAL,CAAgBkB,QAAhB,CAAyBhB,EAAzB,EAA6BiB,QAArD,GAAgE,MAAMV,oBAAtE,GAA6F,EAA/G,CAAvB,EAA3B;AACX,kCAAcW,yBAAd,EAA+B,EAAElB,MAAF,EAA/B,CADW,CAAR,EAD4D,CAA5D,CAAP;AAGD,K,mCAzB+CmB,gB,oBAA7BzB,oB;;;AA4BrBA,qBAAqB0B,YAArB,GAAoC;AAClCtB,cAAYuB,oBAAUC,MADY,EAApC;;;AAIA5B,qBAAqB6B,YAArB,GAAoC;AAClCpB,eAAa,MADqB;AAElCC,gBAAc,EAFoB;AAGlCC,sBAAoB,EAHc;AAIlCC,kBAAgB,EAJkB,EAApC","file":"LayerStackMountPoint.js","sourcesContent":["import React, { Component, createElement} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport LayerMountPoint from './LayerMountPoint';\r\nimport LayerStore from './../LayerStore'\r\n\r\nexport default class LayerStackMountPoint extends Component {\r\n\r\n  layerStore: LayerStore;\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.unsubscribe = context.layerStore.subscribeToMountPoint(props.id, () => {\r\n      this.setState({})\r\n    });\r\n    this.layerStore = context.layerStore;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribe();\r\n    this.unsubscribe = null;\r\n    this.layerStore = null;\r\n  }\r\n\r\n  render() {\r\n    const { id: mountPointId, elementType, wrapperClass, wrapperActiveClass, layerItemClass, layerItemActiveClass } = this.props;\r\n    const activeLayersForMountPointCount = this.layerStore.getActiveLayersForMountPoint(mountPointId).length;\r\n    const wrapperClassName = wrapperClass ? wrapperClass + (activeLayersForMountPointCount ? ' ' + wrapperActiveClass : '') : '';\r\n    return createElement(elementType, { className: wrapperClassName }, this.layerStore.getLayersForMountPoint(mountPointId)\r\n      .map((id) => createElement(elementType, { key: id, className: (layerItemClass + (layerItemActiveClass && this.layerStore.getLayer(id).isActive ? ' ' + layerItemActiveClass : '')) },\r\n        createElement(LayerMountPoint, { id }))))\r\n  }\r\n}\r\n\r\nLayerStackMountPoint.contextTypes = {\r\n  layerStore: PropTypes.object\r\n};\r\n\r\nLayerStackMountPoint.defaultProps = {\r\n  elementType: 'span',\r\n  wrapperClass: '',\r\n  wrapperActiveClass: '',\r\n  layerItemClass: ''\r\n};\r\n"]}